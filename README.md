# intern game logic programmer

## Вопрос №1

На языке Python написать алгоритм (функцию) определения четности целого числа,
который будет аналогичен нижеприведенному по функциональности, но отличен по
своей сути. Объяснить плюсы и минусы обеих реализаций.

```python
def isEven(value):
    return value % 2 == 0
```

### Ответ

Весь код в `src/task1.py`.

Аналогичная функция:

```python
def is_even_bitwise(value: int) -> bool:
    return value & 1 == 0
```

Использование операции остатка от деления широко распространено и такая функция
более читабельна. Но использование побитового "И" оказывается производительнее.

Сравнение быстродействия с помощью модуля [timeit](https://docs.python.org/3/library/timeit.html):

Количество итераций: 10 000 000

| Вызов функции              | Время, с |
|----------------------------|---------:|
| `is_even_modulo(100)`      | 0.79395  |
| `is_even_bitwise(100)`     | 0.66929  |
| `is_even_modulo(1000000)`  | 0.73508  |
| `is_even_bitwise(1000000)` | 0.66033  |



## Вопрос №2

На языке Python написать минимум по 2 класса реализовывающих циклический буфер
FIFO. Объяснить плюсы и минусы каждой реализации.

### Ответ

Весь код в `src/task2.py`, `src/ctask2module.c`.


#### Классы `CircularList` ; `CircularBuffer_c`

Буфер использует встроенный тип данных - список, который является динамическим
массивом. Начало и конец - индексы, которые перевычисляются взятием остатка от
деления при каждой операции добавления и удаления элемента.

Класс `CircularBuffer_c` реализован в модуле расширения на языке Си, с
использованием массива.


#### Классы `CircularLinkedListDynamic`*`(_c)`* и `CircularLinkedListStatic`*`(_c)`*

Буфер представляет из себя связный список узлов. Узел - класс `Node`, содержит
данные и ссылку на следующий узел. Начало и конец очереди - ссылки на узлы. При
операциях добавления или удаления элемента эти ссылки обновляются, продвигаясь
циклически дальше по связному списку.

В классе `CircularLinkedListDynamic` узлы создаются во время операции
добавления и стираются во время операции удаления.

В классе `CircularLinkedListStatic` все узлы создаются заранее во время
инициализации, а операции добавления и удаления лишь перезаписывают хранимые в
узлах данные.

Классы с окончанием `_c` реализованы в модуле расширения на языке Си. В них узел
является не классом, а структурой из языка Си, которая хранит указатель на
данные (`PyObject*`) и указатель на следующий узел.


#### Класс `CircularDeque`

Данный класс представляет собой обертку над коллекцией `collections.deque`
(двухсторонней очередью) из стандартной библиотеки. Параметр `maxlen` позволяет
задать длину очереди, при достижении которой, добавление элемента в конец
очереди приводит к отбрасыванию элемента из ее начала, создавая таким образом
циклический буфер. Реализация на Си в [Modules/_collectionsmodule.c](https://github.com/python/cpython/blob/main/Modules/_collectionsmodule.c).


#### Сравнение быстродействия с помощью модуля [timeit](https://docs.python.org/3/library/timeit.html)

Количество итераций: 1 000

Измеряемый сниппет кода:
```python
for i in range(buffer.maxlen):
    buffer.enqueue(i)
for i in range(buffer.maxlen):
    _ = buffer.dequeue()
```

| Класс                         |  Время, с (размер 2<sup>8</sup>) |  Время, с (размер 2<sup>12</sup>) |  Время, с (размер 2<sup>16</sup>) |
|-------------------------------|---------------------------------:|----------------------------------:|----------------------------------:|
| `CircularList`                | 0.08733                          | 1.73087                           | 28.18757                          |
| `CircularLinkedListDynamic`   | 0.12454                          | 2.17078                           | 35.21775                          |
| `CircularLinkedListStatic`    | 0.06302                          | 1.13835                           | 18.50745                          |
| `CircularDeque`               | 0.02271                          | 0.48217                           | 7.94254                           |
| `CircularBuffer_c`            | 0.02134                          | 0.39888                           | 6.63089                           |
| `CircularLinkedListDynamic_c` | 0.02429                          | 0.44149                           | 8.68831                           |
| `CircularLinkedListStatic_c`  | 0.02166                          | 0.39737                           | 6.44734                           |



## Вопрос №3

На языке Python предложить алгоритм, который быстрее всего (по процессорным
тикам) отсортирует данный ей массив чисел. Массив может быть любого размера со
случайным порядком чисел (в том числе и отсортированным). Объяснить, почему вы
считаете, что функция соответствует заданным критериям.
